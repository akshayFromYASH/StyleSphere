{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/product.service\";\nimport * as i2 from \"src/app/Services/order.service\";\nimport * as i3 from \"@angular/router\";\nexport class ProductbuyComponent {\n  constructor(_product, _order, router, activateRoute) {\n    this._product = _product;\n    this._order = _order;\n    this.router = router;\n    this.activateRoute = activateRoute;\n  }\n  ngOnInit() {\n    this.prodid = parseInt(this.activateRoute.snapshot.paramMap.get('prodid') || '0', 10);\n    console.log(this.prodid);\n    this._product.getProductById(this.prodid).subscribe(data => {\n      this.product = data;\n      console.log(this.product);\n    });\n  }\n  orderNow() {\n    const order = {\n      orderId: 0,\n      orderNumber: Math.floor(100000 + Math.random() * 900000),\n      total_Amount: this.product.price,\n      shipping_Amount: 50,\n      discount_Amount: 0,\n      net_Amount: this.product.price + 50,\n      status: 'Pending',\n      return_Reason: '',\n      catId: parseInt(this.product.categoryId)\n    };\n    // Call the service method to place the order\n    this._order.Order(order).subscribe(response => {\n      console.log('Order placed successfully:', response);\n      alert('Order placed successfully!');\n      // Navigate to another page, e.g., order confirmation page\n      this.router.navigate(['/order-confirmation']);\n    }, error => {\n      console.error('Error placing order:', error);\n      alert('Failed to place order. Please try again.');\n    });\n  }\n  static {\n    this.ɵfac = function ProductbuyComponent_Factory(t) {\n      return new (t || ProductbuyComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductbuyComponent,\n      selectors: [[\"app-productbuy\"]],\n      decls: 15,\n      vars: 4,\n      consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"card\", \"mb-4\", \"shadow-sm\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"text-muted\"]],\n      template: function ProductbuyComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n          i0.ɵɵtext(6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\", 6);\n          i0.ɵɵtext(8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\", 6)(10, \"small\", 7);\n          i0.ɵɵtext(11);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"p\", 6)(13, \"small\", 7);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate(ctx.product.prodName);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.product.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Price: \\u20B9\", ctx.product.price, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Stock Quantity: \", ctx.product.stock_Quantity, \"\");\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["ProductbuyComponent","constructor","_product","_order","router","activateRoute","ngOnInit","prodid","parseInt","snapshot","paramMap","get","console","log","getProductById","subscribe","data","product","orderNow","order","orderId","orderNumber","Math","floor","random","total_Amount","price","shipping_Amount","discount_Amount","net_Amount","status","return_Reason","catId","categoryId","Order","response","alert","navigate","error","i0","ɵɵdirectiveInject","i1","ProductService","i2","OrderService","i3","Router","ActivatedRoute","selectors","decls","vars","consts","template","ProductbuyComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","prodName","description","ɵɵtextInterpolate1","stock_Quantity"],"sources":["D:\\StyleShpere\\StyleSphere_Angular\\src\\app\\Customer\\productbuy\\productbuy.component.ts","D:\\StyleShpere\\StyleSphere_Angular\\src\\app\\Customer\\productbuy\\productbuy.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Order } from 'src/app/Models/Order';\nimport { Product } from 'src/app/Models/Product';\nimport { OrderService } from 'src/app/Services/order.service';\nimport { ProductService } from 'src/app/Services/product.service';\n\n@Component({\n  selector: 'app-productbuy',\n  templateUrl: './productbuy.component.html',\n  styleUrls: ['./productbuy.component.css']\n})\nexport class ProductbuyComponent implements OnInit {\n  product: Product;\n  prodid: number;\n\n  constructor(private _product: ProductService, private _order:OrderService ,private router: Router, private activateRoute: ActivatedRoute) {}\n\n  ngOnInit() {\n    this.prodid = parseInt(this.activateRoute.snapshot.paramMap.get('prodid') || '0', 10);\n    console.log(this.prodid);\n\n    this._product.getProductById(this.prodid).subscribe(data => {\n      this.product = data;\n      console.log(this.product);\n    });\n  }\n\n  orderNow() {\n    const order: Order = {\n      orderId: 0, // Auto-generated by the database\n      orderNumber: Math.floor(100000 + Math.random() * 900000),\n      total_Amount: this.product.price,\n      shipping_Amount: 50, // Example shipping cost\n      discount_Amount: 0, // Example discount\n      net_Amount: this.product.price + 50, // Price + shipping cost\n      status: 'Pending',\n      return_Reason: '',\n      catId: parseInt(this.product.categoryId)\n    };\n\n    // Call the service method to place the order\n    this._order.Order(order).subscribe(response => {\n      console.log('Order placed successfully:', response);\n      alert('Order placed successfully!');\n      // Navigate to another page, e.g., order confirmation page\n      this.router.navigate(['/order-confirmation']);\n    }, error => {\n      console.error('Error placing order:', error);\n      alert('Failed to place order. Please try again.');\n    });\n  }\n}\n","<div class=\"container mt-5\">\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"card mb-4 shadow-sm\">\n                <!-- <img [src]=\"product.image\" class=\"card-img-top\" alt=\"{{ product.prodName }}\"> -->\n                <div class=\"card-body\">\n                    <h5 class=\"card-title\">{{ product.prodName }}</h5>\n                    <p class=\"card-text\">{{ product.description }}</p>\n                    <p class=\"card-text\"><small class=\"text-muted\">Price: ₹{{ product.price }}</small></p>\n                    <p class=\"card-text\"><small class=\"text-muted\">Stock Quantity: {{ product.stock_Quantity }}</small></p>\n                    <!-- <button type=\"button\" class=\"btn btn-primary\" (click)=\"orderNow()\">Order Now</button> -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}