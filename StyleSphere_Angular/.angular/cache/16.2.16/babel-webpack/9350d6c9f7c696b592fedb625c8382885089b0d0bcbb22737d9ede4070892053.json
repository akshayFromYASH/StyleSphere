{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./Services/user.service\";\nimport * as i2 from \"@angular/router\";\nexport class AppComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.title = 'StyleSphere_Angular';\n    this.role = '';\n    this.loggedIn = false;\n  }\n  ngOnInit() {\n    this.updateLoginStatus();\n    // Listen to changes in sessionStorage and localStorage\n    window.addEventListener('storage', () => {\n      this.updateLoginStatus();\n    });\n  }\n  updateLoginStatus() {\n    this.role = sessionStorage.getItem(\"userrole\");\n    this.loggedIn = localStorage.getItem(\"logged\") === 'true';\n  }\n  logout() {\n    sessionStorage.removeItem(\"userrole\");\n    sessionStorage.removeItem(\"loginToken\");\n    localStorage.removeItem(\"logged\");\n    this.updateLoginStatus();\n    this.router.navigate(['/userLogin']);\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 1,\n      vars: 0,\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"router-outlet\");\n        }\n      },\n      dependencies: [i2.RouterOutlet],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["AppComponent","constructor","service","router","title","role","loggedIn","ngOnInit","updateLoginStatus","window","addEventListener","sessionStorage","getItem","localStorage","logout","removeItem","navigate","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","template","AppComponent_Template","rf","ctx","ɵɵelement"],"sources":["D:\\StyleShpere\\StyleSphere_Angular\\src\\app\\app.component.ts","D:\\StyleShpere\\StyleSphere_Angular\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from './Services/user.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'StyleSphere_Angular';\n  role: string | null = '';\n  loggedIn: boolean = false;\n\n  constructor(private service: UserService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.updateLoginStatus();\n\n    // Listen to changes in sessionStorage and localStorage\n    window.addEventListener('storage', () => {\n      this.updateLoginStatus();\n    });\n  }\n\n  updateLoginStatus(): void {\n    this.role = sessionStorage.getItem(\"userrole\");\n    this.loggedIn = localStorage.getItem(\"logged\") === 'true';\n  }\n\n  logout(): void {\n    sessionStorage.removeItem(\"userrole\");\n    sessionStorage.removeItem(\"loginToken\");\n    localStorage.removeItem(\"logged\");\n    this.updateLoginStatus();\n    this.router.navigate(['/userLogin']);\n  }\n}\n","\n<router-outlet></router-outlet>\n"],"mappings":";;;AASA,OAAM,MAAOA,YAAY;EAKvBC,YAAoBC,OAAoB,EAAUC,MAAc;IAA5C,KAAAD,OAAO,GAAPA,OAAO;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAJxD,KAAAC,KAAK,GAAG,qBAAqB;IAC7B,KAAAC,IAAI,GAAkB,EAAE;IACxB,KAAAC,QAAQ,GAAY,KAAK;EAE0C;EAEnEC,QAAQA,CAAA;IACN,IAAI,CAACC,iBAAiB,EAAE;IAExB;IACAC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,MAAK;MACtC,IAAI,CAACF,iBAAiB,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAA,iBAAiBA,CAAA;IACf,IAAI,CAACH,IAAI,GAAGM,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;IAC9C,IAAI,CAACN,QAAQ,GAAGO,YAAY,CAACD,OAAO,CAAC,QAAQ,CAAC,KAAK,MAAM;EAC3D;EAEAE,MAAMA,CAAA;IACJH,cAAc,CAACI,UAAU,CAAC,UAAU,CAAC;IACrCJ,cAAc,CAACI,UAAU,CAAC,YAAY,CAAC;IACvCF,YAAY,CAACE,UAAU,CAAC,QAAQ,CAAC;IACjC,IAAI,CAACP,iBAAiB,EAAE;IACxB,IAAI,CAACL,MAAM,CAACa,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;;;uBA3BWhB,YAAY,EAAAiB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAZtB,YAAY;MAAAuB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCRzBX,EAAA,CAAAa,SAAA,oBAA+B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}